<aside th:fragment="layoutadmindesktop"
       class="z-20 hidden w-64 overflow-y-auto bg-white dark:bg-gray-800 md:block flex-shrink-0"
       xmlns:x-transition="http://www.w3.org/1999/xhtml">
    <div class="py-4 text-gray-500 dark:text-gray-400">
        <!-- Brand -->
        <a class="ml-6 text-lg font-bold text-gray-800 dark:text-gray-200" href="index">Tiêm Chủng</a>

        <!-- --------------- DASHBOARD --------------- -->
        <ul class="mt-6">
            <li class="relative px-6 py-3">
                <span class="sidebar-marker absolute inset-y-0 left-0 w-1 bg-purple-600 rounded-tr-lg rounded-br-lg hidden" aria-hidden="true"></span>
                <a data-sidebar-link="/admin"
                   class="inline-flex items-center w-full text-sm font-medium transition-colors duration-150 hover:text-gray-800 dark:hover:text-gray-200"
                   href="admin">
                    <svg class="w-5 h-5" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" viewBox="0 0 24 24">
                        <path d="M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6" />
                    </svg>
                    <span class="ml-4">Dashboard</span>
                </a>
            </li>
        </ul>

        <!-- --------------- OTHER MENUS --------------- -->
        <ul>
            <!-- Mặt Hàng -->
            <li class="relative px-6 py-3">
                <span class="sidebar-marker absolute inset-y-0 left-0 w-1 bg-purple-600 rounded-tr-lg rounded-br-lg hidden" aria-hidden="true"></span>
                <a data-sidebar-link="/donhang"
                   class="inline-flex items-center w-full text-sm font-medium transition-colors duration-150 hover:text-gray-800 dark:hover:text-gray-200"
                   href="donhang">
                    <svg class="w-5 h-5" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" viewBox="0 0 24 24">
                        <path d="M4 6h16M4 10h16M4 14h16M4 18h16" />
                    </svg>
                    <span class="ml-4">Mặt Hàng Hiện Có</span>
                </a>
            </li>

            <!-- Pages (dropdown) -->
            <li class="relative px-6 py-3" x-data="{ open: false }">
                <span class="sidebar-marker absolute inset-y-0 left-0 w-1 bg-purple-600 rounded-tr-lg rounded-br-lg hidden" aria-hidden="true"></span>
                <button data-sidebar-link="/pages"
                        class="inline-flex items-center justify-between w-full text-sm font-medium transition-colors duration-150 hover:text-gray-800 dark:hover:text-gray-200"
                        @click="open = !open">
          <span class="inline-flex items-center">
            <svg class="w-5 h-5" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" viewBox="0 0 24 24">
              <path d="M4 5a1 1 0 011-1h14a1 1 0 011 1v2a1 1 0 01-1 1H5a1 1 0 01-1-1V5zM4 13a1 1 0 011-1h6a1 1 0 011 1v6a1 1 0 01-1 1H5a1 1 0 01-1-1v-6zM16 13a1 1 0 011-1h2a1 1 0 011 1v6a1 1 0 01-1 1h-2a1 1 0 01-1-1v-6z" />
            </svg>
            <span class="ml-4">Pages</span>
          </span>
                    <svg class="w-4 h-4" fill="currentColor" viewBox="0 0 20 20"><path fill-rule="evenodd" d="M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z" clip-rule="evenodd"/></svg>
                </button>
                <template x-if="open">
                    <ul class="p-2 mt-2 space-y-2 overflow-hidden text-sm font-medium text-gray-500 rounded-md shadow-inner bg-gray-50 dark:text-gray-400 dark:bg-gray-900">
                        <li class="px-2 py-1 hover:text-gray-800 dark:hover:text-gray-200"><a class="w-full" href="/register">Create account</a></li>
                        <li class="px-2 py-1 hover:text-gray-800 dark:hover:text-gray-200"><a class="w-full" href="pages/blank.html">Blank</a></li>
                    </ul>
                </template>
            </li>
        </ul>
    </div>

    <!-- --------------- JS: highlight active --------------- -->
    <script>
        document.addEventListener('DOMContentLoaded', () => {
            const current = window.location.pathname;
            const links = document.querySelectorAll('[data-sidebar-link]');
            links.forEach(link => {
                const li = link.closest('li');
                const marker = li.querySelector('.sidebar-marker');
                const href = link.getAttribute('data-sidebar-link');
                const isPages = href === '/pages';
                const active = isPages ? current.startsWith('/pages') || current === '/register' : current.startsWith(href);
                if (active) {
                    // show purple bar
                    marker && marker.classList.remove('hidden');
                    // bold & darken text
                    link.classList.remove('text-gray-500', 'dark:text-gray-400', 'font-medium');
                    link.classList.add('text-gray-800', 'dark:text-gray-100', 'font-bold');
                } else {
                    link.classList.add('text-gray-500', 'dark:text-gray-400', 'font-medium');
                    link.classList.remove('text-gray-800', 'dark:text-gray-100', 'font-bold');
                }
            });
        });
    </script>
</aside>
